{"ast":null,"code":"'use strict';\n\nvar _ = require('lodash');\n\nvar RestException = require('./RestException');\n/**\n * @constructor\n *\n * @description Base version object\n *\n * @param {Domain} domain twilio domain\n * @param {Version} version api version\n */\n\n\nfunction Version(domain, version) {\n  this._domain = domain;\n  this._version = version;\n}\n/**\n * Generate absolute url from a uri\n *\n * @param  {string} uri uri to transform\n * @return {string} transformed url\n */\n\n\nVersion.prototype.absoluteUrl = function (uri) {\n  return this._domain.absoluteUrl(this.relativeUrl(uri));\n};\n/**\n * Generate relative url from a uri\n *\n * @param  {string} uri uri to transform\n * @return {string} transformed url\n */\n\n\nVersion.prototype.relativeUrl = function (uri) {\n  return _.trim(this._version, '/') + '/' + _.trim(uri, '/');\n};\n/**\n * Make a request against the domain\n *\n * @param  {object} opts request options\n * @return {Promise} promise that resolves to request response\n */\n\n\nVersion.prototype.request = function (opts) {\n  return this._domain.request(_.assign({}, opts, {\n    uri: this.relativeUrl(opts.uri)\n  }));\n};\n/**\n * Fetch a instance of a record\n * @throws {Error} If response returns non 2xx or 3xx status code\n *\n * @param  {object} opts request options\n * @return {Promise} promise that resolves to fetched result\n */\n\n\nVersion.prototype.fetch = function (opts) {\n  var qResponse = this.request(opts);\n  qResponse = qResponse.then(function success(response) {\n    if (response.statusCode < 200 || response.statusCode >= 400) {\n      throw new RestException(response);\n    }\n\n    if (typeof response.body === 'string') {\n      return JSON.parse(response.body);\n    }\n\n    return response.body;\n  });\n  return qResponse;\n};\n/**\n * Update a record\n * @throws {Error} If response returns non 2xx status code\n *\n * @param  {object} opts request options\n * @return {Promise} promise that resolves to updated result\n */\n\n\nVersion.prototype.update = function (opts) {\n  var qResponse = this.request(opts);\n  qResponse = qResponse.then(function success(response) {\n    if (response.statusCode < 200 || response.statusCode >= 300) {\n      throw new RestException(response);\n    }\n\n    if (typeof response.body === 'string') {\n      return JSON.parse(response.body);\n    }\n\n    return response.body;\n  });\n  return qResponse;\n};\n/**\n * Delete a record\n * @throws {Error} If response returns a 5xx status\n *\n * @param  {object} opts request options\n * @return {Promise} promise that resolves to true if record was deleted\n */\n\n\nVersion.prototype.remove = function (opts) {\n  var qResponse = this.request(opts);\n  qResponse = qResponse.then(function success(response) {\n    if (response.statusCode < 200 || response.statusCode >= 300) {\n      throw new RestException(response);\n    }\n\n    return response.statusCode === 204;\n  });\n  return qResponse;\n};\n/**\n * Create a new record\n * @throws {Error} If response returns non 2xx or 201 status code\n *\n * @param  {object} opts request options\n * @return {Promise} promise that resolves to created record\n */\n\n\nVersion.prototype.create = function (opts) {\n  var qResponse = this.request(opts);\n  qResponse = qResponse.then(function success(response) {\n    if (response.statusCode < 200 || response.statusCode >= 300) {\n      throw new RestException(response);\n    }\n\n    if (typeof response.body === 'string') {\n      return JSON.parse(response.body);\n    }\n\n    return response.body;\n  });\n  return qResponse;\n};\n/**\n * Fetch a page of records\n *\n * @param  {object} opts request options\n * @return {Promise} promise that resolves to page of records\n */\n\n\nVersion.prototype.page = function (opts) {\n  return this.request(opts);\n};\n/**\n * Process limits for list requests\n *\n * @param {object} [opts] ...\n * @param {number} [opts.limit] The maximum number of items to fetch\n * @param {number} [opts.pageSize] The maximum number of items to return\n *                                  with every request\n */\n\n\nVersion.prototype.readLimits = function (opts) {\n  var limit = opts.limit;\n  var pageSize = opts.pageSize;\n\n  if (!_.isNil(limit) && (!_.isFinite(limit) || limit <= 0)) {\n    throw new TypeError('Parameter limit must be a positive integer');\n  }\n\n  if (!_.isNil(pageSize) && (!_.isFinite(pageSize) || pageSize <= 0)) {\n    throw new TypeError('Parameter pageSize must be a positive integer');\n  }\n\n  if (limit && !pageSize) {\n    pageSize = limit;\n  }\n\n  return {\n    limit: limit,\n    pageSize: pageSize\n  };\n};\n\nmodule.exports = Version;","map":{"version":3,"names":["_","require","RestException","Version","domain","version","_domain","_version","prototype","absoluteUrl","uri","relativeUrl","trim","request","opts","assign","fetch","qResponse","then","success","response","statusCode","body","JSON","parse","update","remove","create","page","readLimits","limit","pageSize","isNil","isFinite","TypeError","module","exports"],"sources":["/Users/hooniesun/rmit/fwp/assessment1/lan/node_modules/twilio/lib/base/Version.js"],"sourcesContent":["'use strict';\nvar _ = require('lodash');\nvar RestException = require('./RestException');\n\n/**\n * @constructor\n *\n * @description Base version object\n *\n * @param {Domain} domain twilio domain\n * @param {Version} version api version\n */\nfunction Version(domain, version) {\n  this._domain = domain;\n  this._version = version;\n}\n\n/**\n * Generate absolute url from a uri\n *\n * @param  {string} uri uri to transform\n * @return {string} transformed url\n */\nVersion.prototype.absoluteUrl = function(uri) {\n  return this._domain.absoluteUrl(this.relativeUrl(uri));\n};\n\n/**\n * Generate relative url from a uri\n *\n * @param  {string} uri uri to transform\n * @return {string} transformed url\n */\nVersion.prototype.relativeUrl = function(uri) {\n  return _.trim(this._version, '/') + '/' + _.trim(uri, '/');\n};\n\n/**\n * Make a request against the domain\n *\n * @param  {object} opts request options\n * @return {Promise} promise that resolves to request response\n */\nVersion.prototype.request = function(opts) {\n  return this._domain.request(_.assign({}, opts, {\n    uri: this.relativeUrl(opts.uri),\n  }));\n};\n\n/**\n * Fetch a instance of a record\n * @throws {Error} If response returns non 2xx or 3xx status code\n *\n * @param  {object} opts request options\n * @return {Promise} promise that resolves to fetched result\n */\nVersion.prototype.fetch = function(opts) {\n  var qResponse = this.request(opts);\n\n  qResponse = qResponse.then(\n    function success(response) {\n      if (response.statusCode < 200 || response.statusCode >= 400) {\n        throw new RestException(response);\n      }\n\n      if (typeof response.body === 'string') {\n        return JSON.parse(response.body);\n      }\n      return response.body;\n    }\n  );\n\n  return qResponse;\n};\n\n/**\n * Update a record\n * @throws {Error} If response returns non 2xx status code\n *\n * @param  {object} opts request options\n * @return {Promise} promise that resolves to updated result\n */\nVersion.prototype.update = function(opts) {\n  var qResponse = this.request(opts);\n  qResponse = qResponse.then(\n    function success(response) {\n      if (response.statusCode < 200 || response.statusCode >= 300) {\n        throw new RestException(response);\n      }\n\n      if (typeof response.body === 'string') {\n        return JSON.parse(response.body);\n      }\n      return response.body;\n    }\n  );\n\n  return qResponse;\n};\n\n/**\n * Delete a record\n * @throws {Error} If response returns a 5xx status\n *\n * @param  {object} opts request options\n * @return {Promise} promise that resolves to true if record was deleted\n */\nVersion.prototype.remove = function(opts) {\n  var qResponse = this.request(opts);\n  qResponse = qResponse.then(\n    function success(response) {\n      if (response.statusCode < 200 || response.statusCode >= 300) {\n        throw new RestException(response);\n      }\n\n      return response.statusCode === 204;\n    }\n  );\n\n  return qResponse;\n};\n\n/**\n * Create a new record\n * @throws {Error} If response returns non 2xx or 201 status code\n *\n * @param  {object} opts request options\n * @return {Promise} promise that resolves to created record\n */\nVersion.prototype.create = function(opts) {\n  var qResponse = this.request(opts);\n  qResponse = qResponse.then(\n    function success(response) {\n      if (response.statusCode < 200 || response.statusCode >= 300) {\n        throw new RestException(response);\n      }\n      if (typeof response.body === 'string') {\n        return JSON.parse(response.body);\n      }\n      return response.body;\n    }\n  );\n\n  return qResponse;\n};\n\n/**\n * Fetch a page of records\n *\n * @param  {object} opts request options\n * @return {Promise} promise that resolves to page of records\n */\nVersion.prototype.page = function(opts) {\n  return this.request(opts);\n};\n\n/**\n * Process limits for list requests\n *\n * @param {object} [opts] ...\n * @param {number} [opts.limit] The maximum number of items to fetch\n * @param {number} [opts.pageSize] The maximum number of items to return\n *                                  with every request\n */\nVersion.prototype.readLimits = function(opts) {\n  var limit = opts.limit;\n  var pageSize = opts.pageSize;\n  if (!_.isNil(limit) && (!_.isFinite(limit) || limit <= 0)) {\n    throw new TypeError('Parameter limit must be a positive integer');\n  }\n\n  if (!_.isNil(pageSize) && (!_.isFinite(pageSize) || pageSize <= 0)) {\n    throw new TypeError('Parameter pageSize must be a positive integer');\n  }\n\n  if (limit && !pageSize) {\n    pageSize = limit;\n  }\n\n  return {\n    limit: limit,\n    pageSize: pageSize\n  };\n};\n\nmodule.exports = Version;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}